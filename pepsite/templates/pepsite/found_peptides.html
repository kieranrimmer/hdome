<!DOCTYPE html>
<html lang="en">
  <head>

    {% load staticfiles %}
{% load template_filter %}

    <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">
    <link href="{% static "css/tablesorter_style.css" %}" rel="stylesheet">

		<script src="{% static "js/jquery-2.0.3.min.js" %}"></script>
                <script src="{% static "js/composite_search.js" %}"></script>


</head>

{{user}}

    <table class="table table-striped tablesorter" id="cssTable">
    <thead>
        <tr><th class="hilite">Protein</th><th/><th class="hilite">Peptide</th><th class="hilite">Peptide length</th><th>Position(s) in Protein</th><th class="hilite">Modification</th><th class="hilite">Delta Mass</th><th class="hilite">Confidence</th><th class="hilite">Charge State</th><th class="hilite">Retention Time</th><th class="hilite">Precursor Mass</th></tr>
    </thead>
    <tbody>
    {% for row in rows %}
        {% query_peptoprot peptide=row.ide.peptide protein=row.protein as peptoprot1 %}
        <tr>
            <td>
                {{row.protein.description}}
            </td>
            <td>
                {{row.protein.prot_id}}
            </td>
            <td>
                {{row.ide.peptide.sequence}}
            </td>
            <td>
                {{row.ide.peptide.sequence|length}}
            </td>
            <td>
               {{ peptoprot1.get_positions }}
	   </td>
	   <td>
	   {% if row.ide.ptm %}
	       <a href="{% url 'pepsite:ptm_expts' row.ide.ptm.id %}" class="link">{{row.ide.ptm.description}}</a>
	   {% endif %}
	   </td>
	   <td>
	   {{ row.ide.delta_mass }}
	   </td>
	   <td>
	   {{ row.ide.confidence }}
	   </td>
	   <td>
	   {{ row.ide.ion.charge_state }}
	   </td>
	   <td>
	   {{ row.ide.ion.retention_time }}
	   </td>
	   <td>
	   {{ row.ide.ion.precursor_mass }}
	   </td>
        </tr>
    {% endfor %}
    </tbody>
    </table>





{{post}}

{% for k, v in post.items %}
{{k}}
{{v}}
{% endfor %}


{{get}}
{% for k, v in get.items %}
{{k}}
{{v}}
{% endfor %}
